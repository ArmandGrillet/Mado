var c;function e(){void 0!=f&&(aa(f),f=void 0)}function ba(){marked(g.value,function(a,b){chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:"document.html"},function(a){a&&a.createWriter(function(a){a.write(new Blob([b],{type:"text/HTML"}))},e)})})}function h(a){return a.substring(a.lastIndexOf("/")+1)} function k(a){chrome.app.window.create(a,{bounds:{left:Math.round(window.screenX+($(window).width()-498)/2),top:Math.round(window.screenY+($(window).height()-664)/2),width:498,height:664},minWidth:498,minHeight:664,maxWidth:498,maxHeight:664});ca.click()} function da(){chrome.storage.local.get("displaySize",function(a){void 0!=a.displaySize?"small"==a.displaySize?$("body").attr("class","small"):"medium"==a.displaySize?$("body").attr("class"," "):$("body").attr("class","big"):(chrome.storage.local.set({displaySize:"medium"}),$("body").attr("class"," "))})} function ea(){0<g.value.length&&chrome.app.window.create("mado.html",{bounds:{left:window.screenX+20,top:window.screenY+20,width:window.innerWidth,height:window.innerHeight},minWidth:683,minHeight:240})}function fa(a){a.file(function(b){var d=new FileReader;d.onload=function(b){""!=g.value?chrome.storage.local.set({tempFileEntry:chrome.fileSystem.retainEntry(a)},ea):(g.value=b.target.result,c=a,m=b.target.result,n(),p.innerHTML=h(a.fullPath)+"&nbsp;|");ga(a)};d.readAsText(b)},e)} function ha(){chrome.fileSystem.chooseEntry({type:"openFile",accepts:[{extensions:["md","txt"]}]},function(a){a&&fa(a)})}function ia(){chrome.fileSystem.chooseEntry({type:"saveFile",suggestedName:"document.md"},function(a){a&&a.createWriter(function(b){b.write(new Blob([g.value],{type:"text/plain"}));c=a;m=g.value;q();p.innerHTML=h(a.fullPath)+"&nbsp;|";ga(a)},e)})} function ja(){void 0==c||"md&nbsp;|"!=p.innerHTML.substring(p.innerHTML.length-9)?ia():c.createWriter(function(a){a.write(new Blob([g.value],{type:"text/plain"}));m=g.value;q();p.innerHTML=h(savedFile.fullPath)+"&nbsp;|"},e)} chrome.app.window.current().onBoundsChanged.addListener(function(){1366>window.innerWidth&&"switch-button activated"==r.className?s.click():chrome.storage.local.get("lastWidth",function(a){1366<=window.innerWidth&&1366>a.lastWidth&&ka&&r.click()});chrome.storage.local.set({lastX:window.screenX,lastY:window.screenY,lastWidth:window.innerWidth,lastHeight:window.innerHeight})}); chrome.storage.onChanged.addListener(function(a){for(key in a)"gfm"==key?la():"resize"==key?ma():"displaySize"==key?da():"analytics"==key&&na()});var t,u,v,g; function n(){0<g.value.length?void 0==u?chrome.storage.local.get("gfm",function(a){void 0!=a.gfm?marked.setOptions({gfm:a.gfm}):(chrome.storage.local.set({gfm:!1}),marked.setOptions({gfm:!1}));la();marked(g.value,function(a,d){for(var l=w=0;l<x.length;l++)x[l][2]=!1;v=d;y()})}):(marked.setOptions({gfm:u}),marked(g.value,function(a,b){for(var d=w=0;d<x.length;d++)x[d][2]=!1;v=b;y()})):(t.innerHTML="The HTML view.",Countable.once(g,function(a){oa(a)}),q())} function z(){A=B=void 0;for(var a=0;a<x.length;a++)!1==x[a][2]&&(x=x.splice(x[a],1));v=v.replace(/<img src=\"img\/nofile.png/g,'<span class="nofile-link"> <span class="nofile-visual">File not found</span>&nbsp;</span><img class="nofile" src="img/nofile.png');t.innerHTML=v;$("#html-conversion a").each(function(){$(this).attr("target","_blank")});$(".nofile").on("click",C);$(".nofile-link").on("click",C);$(".nofile-visual").on("click",C);Countable.once(t,function(a){oa(a)},{stripTags:!0});q()} function la(){chrome.storage.local.get("gfm",function(a){void 0!=a.gfm?u=a.gfm:(chrome.storage.local.set({gfm:!1}),u=!1);n()})}var D,m,p,pa,E;function q(){pa.innerHTML=""!=g.value?void 0==m||g.value!=m?'| Unsaved <span class="little-icon-unsaved"></span>':'| Saved <span class="little-icon-saved"></span>':void 0!=m?'| Unsaved <span class="little-icon-unsaved"></span>':""} function qa(){"none"==D.style.display?(D.style.display="inline",E.style.display="none"):(D.style.display="none",E.style.display="inline")}function oa(a){D.innerHTML=" "+a.characters+" characters&nbsp;";E.innerHTML=" "+a.words+" words&nbsp;";1==a.j&&(D.innerHTML=" "+a.characters+" character&nbsp;");1==a.n&&(E.innerHTML=" "+a.words+" word&nbsp;")} var F,ra,sa,G,H,ta,I=[["Headers","Titles"],["Bold","Strong emphasis"],["Italic","Emphasis"],["Bold italic","Combined emphasis"],["Ordered lists"],["Unordered lists"],["Inline-style links"],["Reference-style links"],["Images (inline)","Pictures (inline)"],["Images (reference-style)","Pictures (reference-style)"],["Blocks of code"],["Blockquotes"],["Inline HTML","HTML in Markdown"],["Horizontal rules"],["Line breaks"],["Question"]],ua=[["Six sizes available, the size depends on the numbers of #. <br> #Big title (size 1, the biggest). <br> ####A less impresive title (size 4 on 6)."], ['<span class="help-code">**bold**</span> or <span class="help-code">__bold__</span>'],['<span class="help-code">*italic*</span> or <span class="help-code">_italic_</span>'],['<span class="help-code">**_ bold italic_**</span> or <span class="help-code">*__bold italic__*</span> or <span class="help-code">***this***</span> or <span class="help-code">___this___</span>'],["1. First ordered list item. <br>2. Another item."],["* An item. <br>* A second item (you can also use + or -)."],['<span class="help-code">[Hypertext](http://url.com)</span><br>(Also works with a local path.)'], ['<span class="help-code">[Hypertext][1]<br>[1]: http://url.com</span>'],['<span class="help-code">![alt text](path/to/image.jpg "Title")</span>'],['<span class="help-code">![alt text][image Id] <br> [image Id]: path/to/image.jpg "Title"</span>'],['<span class="help-code">```Text between three back-ticks is a block of code.```<br>&nbsp;&nbsp;&nbsp;&nbsp;Text after four spaces is also a block of code.</span>'],['> Blockquotes only need <span class="help-code">></span> to work. <br><br> <span class="help-code">> Two blockquotes without a break (a line who isn\'t a blockquote)  are a single quote.</span>'], ['<span class="help-code">It &lt;strong>works&lt;/strong>.</span>'],['<span class="help-code">*** <br> You can use Hyphens, asterisks or underscores. <br> ---</span>'],['To separate two paragraphs, press <span class="help-code">Enter</span> twice.<br><br>And you have a new paragraph.'],["Seriously?"]],va=[['Six sizes available, the size depends on the numbers of #.<h1 id="big-title-size-1-the-biggest-">Big title (size 1, the biggest).</h1><h4 id="a-less-impresive-title-size-4-on-6-br-">A less impresive title (size 4 on 6).</h4>'], ["<strong>Bold</strong>"],["<em>Italic</em>"],["<strong><em>Bold italic</em></strong>"],["<ol><li>First ordered list item</li><li>Another item.</li></ol>"],["<ul><li>An item. </li><li>A second item (you can also use + or -).</li></ul>"],['<a target="_blank" href="http://aplusa.io/mado">Hypertext</a>'],['<a target="_blank" href="http://aplusa.io/mado">Hypertext</a>'],['<div class="example-image"></div>'],['<div class="example-image"></div>'],["<code>Write your code between three back-ticks to make a block of code.</code><br><code>You can also write code by indent your text with four spaces.</code>"], ["<blockquote>Blockquotes only need &gt; to work. To separate two blockquotes, insert a blank line between them.</blockquote>"],["It <strong>works<strong>"],["<hr> You can use Hyphens, asterisks or underscores.<hr>"],["<p>To separate two paragraphs, press Enter twice.</p><p>And you have a new paragraph!</p>"],["Life's most persistent and urgent question is, 'What are you doing for others?'."]]; function wa(){if(0==F.value.length)H.className="hidden";else if(3>F.value.length)H.className="one-result no-result",J(2);else{G=1;for(var a=0;a<I.length&&4>G;a++)for(var b=0;b<I[a].length;b++)-1!=I[a][b].toLowerCase().indexOf(F.value.toLowerCase())&&(ta=I[a][b].toLowerCase().indexOf(F.value.toLowerCase()),window["answer"+G].innerHTML='<span class="help-title">'+I[a][b].substring(0,ta)+'<span class="match">'+I[a][b].substr(ta,F.value.length)+"</span>"+I[a][b].substring(ta+F.value.length)+"</span>: "+ ua[a],window["example"+G].innerHTML=va[a],G++,b=I[a].length);switch(G){case 1:H.className="one-result no-result";J(2);break;case 2:H.className="one-result";J(2);break;case 3:H.className="two-results";J(3);break;case 4:H.className="three-results"}}}function J(a){for(;4>a;a++)""==window["answer"+a].innerHTML?a=3:(window["answer"+a].innerHTML="",window["result"+a].className="result",window["example"+a].innerHTML="")} function xa(a){window["result"+a].className="result"==window["result"+a].className?"result switched":"result"}$(document).click(function(a){$(a.target).closest(ra).length&&"tool-displayer hidden"==sa.className?(sa.className="tool-displayer",F.focus()):$(a.target).closest(F).length||$(a.target).closest(H).length||(F.value="",J(1),H.className="hidden",sa.className="tool-displayer hidden")});var K,ya,za,Aa,Ba,Ca,L,M,Da,Ea=[],Fa,N,B,w=0,x=[],A; function Ga(){""==K.value?K.focus():void 0!=N&&(Fa=""==M.value?"!["+K.value+"]("+N+")":"!["+K.value+"]("+N+' "'+M.value+'")',Ha=g.value.slice(0,O).length,Ia=(g.value.slice(0,O)+Fa).length,g.value=g.value.slice(0,O)+Fa+g.value.slice(P,g.length),$(g).click(),g.focus(),g.setSelectionRange(Ha,Ia),n())}function C(){chrome.mediaGalleries.getMediaFileSystems({interactive:"yes"},Ja)}function Ka(a){Ea=a;La(0)} function y(){if(-1!=v.indexOf('<img src="',w))if(w=v.indexOf('<img src="',w)+10,A=!1,B=v.substring(w,v.indexOf('"',w)),"data"!=B.substring(0,4))if(0<x.length)for(var a=0;a<x.length;a++)if(x[a][0]==B)if(v=v.replace(RegExp(B,"g"),x[a][1]),x[a][2]=!0,-1!=v.indexOf('<img src="',w)){y();break}else z();else a==x.length-1&&Ja();else Ja();else y();else z()} function La(a){!1==A?a<Ea.length?(Da=a,Ea.forEach(function(b,d){d==a&&void 0!=B&&!1==A&&b.root.createReader().readEntries(Ma)})):(v=v.replace(RegExp(B,"g"),"img/nofile.png"),-1!=v.indexOf('<img src="',w)?y():z()):(x.length=0,n())}function Na(a){Ea[Da].root.getFile(a,{create:!1},function(a){a.file(function(a){var b=new FileReader;b.onloadend=function(){x.push([B,this.result,!0]);v=v.replace(RegExp(B,"g"),this.result);A=!0;-1!=v.indexOf('<img src="',w)?y():z()};b.readAsDataURL(a)})})} function Ma(a){for(var b=0;b<a.length&&!1==A;b++)if(a[b].isDirectory&&-1!=B.indexOf(a[b].fullPath)){a[b].createReader().readEntries(Ma);break}else if(-1!=B.indexOf(a[b].fullPath)){Na(a[b].fullPath);break}else b==a.length-1&&La(Da+1)} function Oa(){chrome.fileSystem.chooseEntry({type:"openFile",accepts:[{mimeTypes:["image/*"]}]},function(a){a&&chrome.fileSystem.getDisplayPath(a,function(a){Ba.innerHTML="Change the image";L.innerHTML=h(a.replace(/\\/g,"/"));35<L.innerHTML.length&&(L.innerHTML=L.innerHTML.substring(0,15)+"(...)"+L.innerHTML.substring(L.innerHTML.length-15,L.innerHTML.length));L.innerHTML=L.innerHTML.substring(0,L.innerHTML.lastIndexOf("."))+'<span id="extension">'+L.innerHTML.substring(L.innerHTML.lastIndexOf("."), L.innerHTML.length)+"</span";L.style.display="inline-block";N=a.replace(/\\/g,"/");K.focus()})})}function Ja(){chrome.mediaGalleries.getMediaFileSystems({interactive:"if_needed"},Ka)} $(document).click(function(a){$(a.target).closest(za).length&&"tool-displayer hidden"==Ca.className?(Ba.innerHTML="Choose an image",L.style.display="none",K.value="",M.value="",N=void 0,Ca.className="tool-displayer",O=g.selectionStart,P=g.selectionEnd,O!=P&&(g.setSelectionRange(O,P),M.value=g.value.substring(O,P))):$(a.target).closest(Aa).length||(Ca.className="tool-displayer hidden")});var Q,Pa,Qa,R,S,P,Ha,Ia,O; function Ra(){""==S.value?S.focus():(Pa=""==Q.value?"["+S.value+"]("+S.value+")":"["+Q.value+"]("+S.value+")",Ha=g.value.slice(0,O).length,Ia=(g.value.slice(0,O)+Pa).length,g.value=g.value.slice(0,O)+Pa+g.value.slice(P,g.length),$(g).click(),g.focus(),g.setSelectionRange(Ha,Ia),n())} $(document).click(function(a){$(a.target).closest(Qa).length&&"tool-displayer hidden"==R.className?(S.value="",Q.value="",R.className="tool-displayer",O=g.selectionStart,P=g.selectionEnd,O!=P&&(g.setSelectionRange(O,P),Q.value=g.value.substring(O,P)),S.focus()):$(a.target).closest(R).length||(R.className="tool-displayer hidden")});var ca,Sa,Ta,Ua,Va,Wa,Xa; $(document).click(function(a){$(a.target).closest(ca).length&&"hidden"==Sa.className?Sa.className=" ":$(a.target).closest(Ta).length||(Sa.className="hidden")});var Ya,T,U,V,W="",f,X={},Y="recentFile1 recentFile2 recentFile3 recentFile4 recentFile5 recentFile6 recentFile7 recentFileId1 recentFileId2 recentFileId3 recentFileId4 recentFileId5 recentFileId6 recentFileId7".split(" "); function Za(a){7>=a&&chrome.storage.local.get(Y,function(b){void 0!=b["recentFile"+a]&&chrome.fileSystem.isRestorable(b["recentFileId"+a],function(d){d?chrome.fileSystem.isRestorable(b["recentFileId"+a],function(b){b?Za(a+1):(document.getElementById("recent-"+a).setAttribute("class","recent-file deleted"),$a(a,"check"))}):(document.getElementById("recent-"+a).setAttribute("class","recent-file deleted"),$a(a,"check"))})})} function ab(){Za(1);U.innerHTML=" ";chrome.storage.local.get(Y,function(a){for(var b=1;7>=b;b++)if(void 0!=a["recentFile"+b])U.innerHTML+='<li class="recent-file" id="recent-'+b+'"><div class="recent-file-wrapped"><p>'+h(a["recentFile"+b].toString())+'</p><div class="delete-recent-button little-icon-delete" id="delete-button-'+b+'"></div></div></li>';else break;$(".recent-file").on("click",function(a){$(a.target).closest("#delete-button-"+this.id.charAt(this.id.length-1)).length||(f=this.id.charAt(this.id.length- 1).valueOf(),W="recentFileId"+this.id.charAt(this.id.length-1),chrome.storage.local.get(W,function(a){chrome.fileSystem.restoreEntry(a[W],function(a){fa(a);T.className="hidden"})}))});$(".delete-recent-button").on("click",function(){aa(this.id.charAt(this.id.length-1))});V=document.createElement("li");V.setAttribute("id","recent-files-info");" "!=U.innerHTML?(V.setAttribute("class","clear-all"),V.innerHTML="Clear all"):(V.setAttribute("class"," "),V.innerHTML="No recent document.");U.appendChild(V); $(".clear-all").on("click",function(){bb()})})} function ga(a){chrome.storage.local.get(Y,function(b){for(var d=1;7>=d;d++)if(void 0==b["recentFile"+d]||b["recentFile"+d]==a.fullPath||7==d){for(;1<d;d--)W=("recentFileId"+d).toString(),X[W]=b["recentFileId"+(d-1)],chrome.storage.local.set(X),X={},W=("recentFile"+d).toString(),X[W]=b["recentFile"+(d-1)],chrome.storage.local.set(X),X={};break}chrome.storage.local.set({recentFileId1:chrome.fileSystem.retainEntry(a)},function(){});chrome.storage.local.set({recentFile1:a.fullPath},function(){});ab()})} function aa(a){document.getElementById("recent-"+a).setAttribute("class","recent-file deleted");setTimeout(function(){$a(a,"display")},100)} function $a(a,b){chrome.storage.local.get(Y,function(d){if(void 0!=d["recentFile"+a]){for(var l=parseInt(a);7>=l;l++)if(void 0!=d["recentFile"+(l+1)])W=("recentFileId"+l).toString(),X[W]=d["recentFileId"+(l+1)],chrome.storage.local.set(X),X={},W=("recentFile"+l).toString(),X[W]=d["recentFile"+(l+1)],chrome.storage.local.set(X),X={};else{W=("recentFileId"+l).toString();chrome.storage.local.remove(W);W=("recentFile"+l).toString();chrome.storage.local.remove(W);W="";break}"display"==b?ab():"check"== b&&Za(a)}})}function bb(){chrome.storage.local.get(Y,function(a){for(var b=1;7>=b;b++)if(void 0==a["recentFile"+(b+1)]){cb(b);break}})}function cb(a){chrome.storage.local.get(Y,function(){W=("recentFileId"+a).toString();chrome.storage.local.remove(W);W=("recentFile"+a).toString();chrome.storage.local.remove(W);W="";1<a?cb(a-1):U.innerHTML='<li id="recent-files-info" class=" ">No recent document.</li>'})} $(document).click(function(a){$(a.target).closest(Ya).length&&"hidden"==T.className?(ab(),T.className=""):$(a.target).closest(U).length||""!=T.className||(T.className="hidden")});var db,eb;function na(){chrome.storage.local.get("analytics",function(a){void 0!=a.analytics?db.n.setTrackingPermitted(a.analytics):(chrome.storage.local.set({analytics:!0}),db.n.setTrackingPermitted(!0))})}var fb,Z,gb,hb,ib; function jb(){chrome.storage.local.get("style",function(a){void 0!=a.style?("home"==a.style?hb.checked=!0:"clinic"==a.style?gb.checked=!0:ib.checked=!0,$(t).attr("class",a.style)):(hb.checked=!0,kb("home"))})}function kb(a){chrome.storage.local.set({style:a},function(){$(t).attr("class",a)})}$(document).click(function(a){$(a.target).closest(fb).length&&"tool-displayer hidden"==Z.className?Z.className="tool-displayer":$(a.target).closest(Z).length||(Z.className="tool-displayer hidden")}); var r,lb,s,mb,nb=[],ka;function ob(a,b){for(var d=0;d<nb.length;d++)nb[d].className=nb[d].id!=a?"switch-button":"switch-button activated";mb.className=b}function ma(){chrome.storage.local.get("resize",function(a){void 0!=a.resize?ka=a.resize:(chrome.storage.local.set({resize:!0}),ka=!0)})} function sSh(a){if(1365<window.innerWidth)for(var b=0;b<nb.length;b++)"switch-button activated"==nb[b].className&&("left"==a&&0<b?nb[b-1].click():"right"==a&&b<nb.length-1&&nb[b+1].click(),b=nb.length);else"left"==a?s.click():lb.click()} window.onload=function(){exportButton=document.getElementById("export");newButton=document.getElementById("new");openButton=document.getElementById("open");Ya=document.getElementById("recent");saveButton=document.getElementById("save");saveAsButton=document.getElementById("save-as");t=document.getElementById("html-conversion");g=document.getElementById("markdown");D=document.getElementById("character-nb");p=document.getElementById("doc-name");pa=document.getElementById("save-state");E=document.getElementById("word-nb"); F=document.getElementById("help-input");ra=document.getElementById("help-button");sa=document.getElementById("help-input-displayer");for(var a=1;3>=a;a++)window["answer"+a]=document.getElementById("answer-"+a),window["example"+a]=document.getElementById("example-"+a),window["result"+a]=document.getElementById("result-"+a),window["resultSwitch"+a]=document.getElementById("result-switch-"+a);H=document.getElementById("help-results-container");ya=document.getElementById("galleries-button");za=document.getElementById("image-button"); Ca=document.getElementById("image-insertion-displayer");Aa=document.getElementById("image-insertion-box");Ba=document.getElementById("browse-image");L=document.getElementById("image-status");K=document.getElementById("alt-input");M=document.getElementById("title-input");Qa=document.getElementById("link-button");R=document.getElementById("link-insertion-displayer");S=document.getElementById("url-input");Q=document.getElementById("hypertext-input");ca=document.getElementById("more-button");Sa=document.getElementById("more-displayer"); Ta=document.getElementById("more-container");Ua=document.getElementById("settings");Va=document.getElementById("q-and-a");Wa=document.getElementById("shortcuts");Xa=document.getElementById("about");Ya=document.getElementById("recent-button");T=document.getElementById("recent-files-displayer");U=document.getElementById("recent-files-container");fb=document.getElementById("style-tool");Z=document.getElementById("style-tool-displayer");hb=document.getElementById("home-style");gb=document.getElementById("clinic-style"); ib=document.getElementById("tramway-style");mb=document.getElementById("workspace");s=document.getElementById("switch-md");r=document.getElementById("switch-both");lb=document.getElementById("switch-html");nb.push(s,r,lb);chrome.storage.local.get("tempFileEntry",function(a){void 0!=a.tempFileEntry?chrome.fileSystem.restoreEntry(a.tempFileEntry,function(a){c=a;chrome.storage.local.remove("tempFileEntry");p.innerHTML=h(c.fullPath)+"&nbsp;|";c.file(function(a){var b=new FileReader;b.onload=function(a){m= g.value=a.target.result;n()};b.readAsText(a)},e)}):m=void 0});da();$(newButton).on("click",ea);Mousetrap.bind(["command+n","ctrl+n"],function(a){ea();return!1});$(openButton).on("click",ha);Mousetrap.bind(["command+o","ctrl+o"],function(a){ha();return!1});$(saveButton).on("click",ja);Mousetrap.bind(["command+s","ctrl+s"],function(a){ja();return!1});$(saveAsButton).on("click",ia);Mousetrap.bind(["command+shift+s","ctrl+shift+s"],function(a){ia();return!1});$(exportButton).on("click",ba);la();D.style.display= "none";$(g).on("input propertychange",n);$(D).on("click",qa);$(E).on("click",qa);Mousetrap.bind(["command+h","ctrl+h"],function(a){$(ra).click();return!1});$(F).on("input propertychange",wa);$(resultSwitch1).on("click",function(){xa("1")});$(resultSwitch2).on("click",function(){xa("2")});$(resultSwitch3).on("click",function(){xa("3")});$(Ba).on("click",Oa);$(ya).on("click",C);$(K).keyup(function(a){13==a.keyCode&&Ga()});$(M).keyup(function(a){13==a.keyCode&&Ga()});$(K).keyup(function(a){27==a.keyCode&& $(za).click()});$(M).keyup(function(a){27==a.keyCode&&$(za).click()});Mousetrap.bind(["command+k","ctrl+k"],function(a){$(Qa).click();return!1});$(S).keyup(function(a){13==a.keyCode&&Ra()});$(Q).keyup(function(a){13==a.keyCode&&Ra()});$(S).keyup(function(a){27==a.keyCode&&$(Qa).click()});$(Q).keyup(function(a){27==a.keyCode&&$(Qa).click()});$(Ua).on("click",function(){k("more/settings.html")});$(Va).on("click",function(){k("more/qanda.html")});$(Wa).on("click",function(){k("more/shortcuts.html")}); $(Xa).on("click",function(){k("more/about.html")});ab();navigator.onLine&&(db=analytics.getService("Mado"),na(),eb=db.getTracker("UA-45134408-1"),eb.sendAppView("mainWindow"));jb();$(hb).on("click",function(){kb("home")});$(gb).on("click",function(){kb("clinic")});$(ib).on("click",function(){kb("tramway")});1365<window.innerWidth?r.className="switch-button activated":(s.className="switch-button activated",mb.className="markdown-view");ma();$(s).on("click",function(){ob(this.id,"markdown-view")}); $(r).on("click",function(){ob(this.id,"normal")});$(lb).on("click",function(){ob(this.id,"conversion-view")});Mousetrap.bind(["command+alt+left","ctrl+alt+left"],function(a){sSh("left");return!1});Mousetrap.bind(["command+alt+right","ctrl+alt+right"],function(a){sSh("right");return!1})};