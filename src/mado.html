<!DOCTYPE html>
<html>
	<head>

		<meta charset="utf-8">
		<title>Mado</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- Generic CSS -->
		<link rel="stylesheet" type="text/css" href="css/reset.css">
		<link rel="stylesheet" type="text/css" href="css/style-base.css">

		<!-- CSS for documents -->
		<link rel="stylesheet" type="text/css" href="css/document-base.css">
		<link rel="stylesheet" type="text/css" href="css/header.css">
		<link rel="stylesheet" type="text/css" href="css/window-frame.css">
		<link rel="stylesheet" type="text/css" href="css/navbar.css">
		<link rel="stylesheet" type="text/css" href="css/main-content.css">
		<link rel="stylesheet" type="text/css" href="css/footer.css">
		<link rel="stylesheet" type="text/css" href="css/responsive.css">
		<link rel="stylesheet" type="text/css" href="css/icons.css">
		<link rel="stylesheet" type="text/css" href="css/conversion-view-base.css">

		<!-- CSS themes -->
		<link rel="stylesheet" type="text/css" href="css/themes/home.css">
		<link rel="stylesheet" type="text/css" href="css/themes/clinic.css">
		<link rel="stylesheet" type="text/css" href="css/themes/tramway.css">

		<!-- Generic JS -->
		<script type="text/javascript" src="js/open-source/countable.js"></script>
		<script type="text/javascript" src="js/open-source/google-analytics-bundle.js"></script>
		<script type="text/javascript" src="js/open-source/jquery-2.1.0.min.js"></script>
		<script type="text/javascript" src="js/open-source/marked.js"></script>
		<script type="text/javascript" src="js/open-source/mousetrap.min.js"></script>
		<script type="text/javascript" src="js/open-source/rangy-core.js"></script>
		<script type="text/javascript" src="js/open-source/rangy-selectionsaverestore.js"></script>
		
		<!-- JS for Mado (alphabetical order) -->
		<script type="text/javascript" src="js/app.js"></script>
		<script type="text/javascript" src="js/click.js"></script>
		<script type="text/javascript" src="js/editor.js"></script>
		<script type="text/javascript" src="js/footer.js"></script>
		<script type="text/javascript" src="js/help.js"></script>
		<script type="text/javascript" src="js/image.js"></script>
		<script type="text/javascript" src="js/link.js"></script>
		<script type="text/javascript" src="js/more.js"></script>
		<script type="text/javascript" src="js/recentfiles.js"></script>
		<script type="text/javascript" src="js/stats.js"></script>
		<script type="text/javascript" src="js/styles.js"></script>
		<script type="text/javascript" src="js/viewswitch.js"></script>
		<script type="text/javascript" src="js/window.js"></script>

		<!-- Onload script -->
		<script type="text/javascript" src="js/onload.js"></script>
	</head>
	
	<body>

		<!-- FIXED TOPBAR -->
		<header id="mado-header">

			<nav id="window-bar">

				<div id="app-header">

					<span id="app-header-centered">
						<span id="save-state"></span><span id="doc-name"></span> Mado
					</span>
				</div>
				
				<ul>
					<li id="window-close">
						
						<div id="window-close-button"></div>
						<!-- Close alert displayer -->
						<div class="hidden" id="close-alert-displayer">

							<div id="close-alert-arrow"></div>
							<div id="close-alert-container">

								<section id="alert-message">

									<h1 id="alert-title">Unsaved changes</h1>

									<div class="alert-part">

										<p>
											The document <span id="alert-doc-name"></span> has unsaved changes. Do you want to save these changes before exiting?
										</p>
									</div>
								</section>

								<!-- The footer "Alert actions" contains the action buttons that respond to the alert.
									 Three buttons here:
									 - "Cancel": don't close the document and close the alert;
									 - "No, don't save": close the document without saving the changes;
									 - "Save and exit": save the changes, then close the document. -->
								<footer id="alert-actions">
									
									<div class="alert-button-container">
										<div class="cta button button-grey" id="cancel">Cancel</div>
									</div>
									<div class="alert-button-container">
										<div class="cta button button-grey" id="quit">No, don't save</div>
									</div>
									<div class="alert-button-container">
										<div class="cta button" id="save-quit">Save and exit</div>
									</div>
								</footer>
							</div>
						</div>
					</li>
					<li id="window-maximize"></li>
					<li id="window-minimize"></li>
				</ul>
			</nav>

			<nav id="navbar">
				
				<ul>
					
					<li class="cta nav-item" id="new">
						<div class="nav-icon icon-new"></div><div class="nav-label">New</div>
					</li>
					<li class="cta nav-item" id="open">
						<div class="nav-icon icon-open"></div><div class="nav-label">Open</div>
					</li>
					<li class="nav-item" id="recent">
						<div class="cta" id="recent-button">
							<div class="nav-icon icon-recent"></div><div class="nav-label">Recent</div>
						</div>
						<!-- Recent files displayer -->
						<div class="hidden" id="recent-files-displayer">

							<div id="recent-files-arrow"></div>
							<!-- Recent files container -->
							<ul id="recent-files-container">
							</ul>
						</div>
					</li>
					<li class="cta nav-item" id="save">
						<div class="nav-icon icon-save"></div><div class="nav-label">Save</div>
					</li>
					<li class="cta nav-item" id="save-as">
						<div class="nav-icon icon-save-as"></div><div class="nav-label">Save as</div>
					</li>
					<li class="cta nav-item" id="export">
						<div class="nav-icon icon-export"></div><div class="nav-label">Export</div>
					</li>
				</ul>
					
				<!-- The view switch handles the main container. On big screens, it has three different states:
					 - "Markdown" to diplay only the markdown area;
					 - "Both" to display both the markdown and the HTML conversion areas;
					 - "HTML" to display only the HTML conversion area.
				See 'viewswitch.js' for further information. -->
				<div id="view-switch">

					<div class="switch-button" id="switch-md">Markdown</div>
					<div class="switch-button" id="switch-both"><div class="little-icon-both"></div></div>
					<div class="switch-button" id="switch-html">HTML</div>
				</div>

				<!-- "More" menu
					  Deploys "Settings", "Q&A", "Shortcuts" and "About Mado" -->
				<div id="more">
					<div class="cta icon-more" id="more-button"></div>
					<!-- "More" menu displayer -->
					<div class="hidden" id="more-displayer">

					<div id="more-arrow"></div>
						<!-- "More" menu container -->
						<ul id="more-container">

							<li class="more-option" id="settings">
								<div class="more-option-wrapped"><p>Settings</p></div>
							</li>
							<li class="more-option" id="q-and-a">
								<div class="more-option-wrapped"><p>Q&amp;A</p></div>
							</li>
							<li class="more-option" id="shortcuts">
								<div class="more-option-wrapped"><p>Shortcuts</p></div>
							</li>
							<li class="more-option" id="about">
								<div class="more-option-wrapped"><p>About Mado</p></div>
							</li>
						</ul>
					</div>
				</div>
			</nav>
		</header>

		<section id="document">

			<!-- MAIN CONTENT -->
			<!-- The main container is called "workspace" and it has three state classes:
				 - "normal": the default behavior for the app.
				 - "markdown-view": whatever the size of the screen, only the markdown area will be displayed.
				 - "conversion-view": whatever the size of the screen, only the HTML conversion area will be displayed.
				 These three states are handled via the main switch. See 'viewswitch.js' for further information. -->
			<section id="workspace" class="normal">

				<div id="switch-cursor"></div>				
				<!-- Markdown control sidebar
					 Contains three square buttons:
					 - The help-input accessor;
					 - The link shortcut;
					 - The image shortcut. -->
				<aside class="sidebar" id="md-control">
					
					<ul>

						<!-- Help tool -->
						<li class="tool-container" id="help-input-container">
						
							<div class="cta tool icon-help" id="help-button"></div> <!-- When clicked, displays the help input via javascript. -->
							<!-- Help input diplayer
								 Displays the input on click on the "Help" button. It has two class states:
								 - "hidden": hides its children.
								 - No class: displays everything. -->
							<div class="tool-displayer hidden" id="help-input-displayer">
							
								<!-- The arrow that comes with the box (see below) -->
								<div class="tool-arrow"></div>
								<!-- The gray box that contains the input -->
								<div class="tool-box" id="help-input-box">

									<!-- The help input itself -->
									<input type="text" class="tool-first-item" placeholder="Type a syntax (e.g. 'bold')" id="help-input">
									
									<!-- Results container -->
									<ul class="hidden" id="help-results-container">
										
										<li class="result" id="result-1">
											<div class="result-switch-container"><div class="result-switch little-icon-switch" id="result-switch-1"></div></div>
											<div class="answer" id="answer-1"></div>
											<div class="example" id="example-1"></div>
										</li>
										<li class="result" id="result-2">
											<div class="result-switch-container"><div class="result-switch little-icon-switch" id="result-switch-2"></div></div>
											<div class="answer" id="answer-2"></div>
											<div class="example" id="example-2"></div>
										</li>
										<li class="result" id="result-3">
											<div class="result-switch-container"><div class="result-switch little-icon-switch" id="result-switch-3"></div></div>
											<div class="answer" id="answer-3"></div>
											<div class="example" id="example-3"></div>
										</li>
									</ul>
								</div>
							</div>
						</li>
						<!-- Link tool
							 Displays one or two inputs, depending on whether text is selected in the markdown area or not. See 'link.js' for further information. -->
						<li class="tool-container" id="link-insertion-container">

							<div class="cta tool icon-link" id="link-button"></div> <!-- When clicked, displays the link input(s) via javascript. -->
							<!-- Link insertion diplayer
								 Displays the input(s) on click on the "Link" button. It has two class states:
								 - "hidden": hides its children.
								 - No class: displays everything. -->
							<div class="tool-displayer hidden" id="link-insertion-displayer">

								<div class="tool-arrow"></div>
							
								<div class="tool-box" id="link-insertion-box">
									<!-- The first input is always required, it asks the user to type a URL (mandatory for a link) -->
									<input type="text" class="tool-first-item" id="url-input" placeholder="Type a URL">
									<!-- The second input is optional, it enables the user to type the text that will be displayed in HTML
										 Three cases here:
										 - Text is selected in the textarea: this input is not displayed, the selected text will be used as hypertext.
										 - No text is selected and the user types something into this input: the typed text will be used as hypertext.
										 - No text is selected and the user does not type anything into this input: the URL typed into the first input will also be used as hypertext. -->
									<input type="text" id="hypertext-input" placeholder="Type a text (optional)">
									<!-- The cancel button enables the user to withdraw his changes over a link he had started writing. -->
									<div class="cta button button-grey" id="cancel-link">Cancel</div>
									<!-- The ok button enables the user to confirm his changes over a link he had started writing. -->
									<div class="cta button" id="insert-link">Ok</div>
								</div>
							</div>
						</li>
						<!-- Image tool
							 Displays two inputs for image information, and a browse button to get the image's path. -->
						<li class="tool-container" id="image-insertion-container">

							<div class="cta tool icon-image" id="image-button"></div> <!-- When clicked, displays the image inputs & browse button via JavaScript. -->
							<!-- Image insertion displayer
								 Displays the inputs & browse button on click on the "Image" button. It has two class states:
								 - "hidden": hides its children.
								 - No class: displays everything. -->
							<div class="tool-displayer hidden" id="image-insertion-displayer">
								
								<div class="tool-arrow"></div>

								<div class="tool-box" id="image-insertion-box">
									<!-- The galleries button is optional, it enables the user to choose which image galleries Mado can access. -->
									<div class="cta button button-grey" id="galleries-button">Choose your galleries</div>
									<!-- The browse button is required, it asks the user to choose an image on his hard drive.
										 Two cases here:
										 - No image chosen already: the browse button is entitled "Choose an image".
										 - Already an image chosen: the browse button shows the image title and extension. -->
									<div class="cta button" id="browse-image"></div>
									<!-- The first input is required, it asks the user to type the alt text for the image. -->
									<input type="text" id="alt-input" placeholder="Type an alt text">
									<!-- The second input is optional, it enables the user to type a title for the image. -->
									<input type="text" id="title-input" placeholder="Type a title (optional)">
									<!-- The cancel button enables the user to withdraw his changes over an image he had started importing. -->
									<div class="cta button button-grey" id="cancel-image">Cancel</div>
									<!-- The ok button enables the user to confirm his changes over an image he had started importing. -->
									<div class="cta button" id="insert-image">Ok</div>
								</div>
							</div>
						</li>
					</ul>
				</aside>

				<!-- Markdown area
					 Contains the textarea itself.
					 On big screen, it takes the left part of the screen. On smaller screen, it takes all the screen. It can always be hidden via the view switch. -->
				<article class="sheet" id="markdown-container">					
					<!-- Contenteditable for typing markdown
						 Controlled via JavaScript. See 'marked.js' for further information. -->
					<div contenteditable="true" placeholder="Write here" id="markdown"></div>
				</article>

				<aside id="center-line-container"><div id="center-line"></div></aside>

				<!-- HTML overview area
					 Contains the displayed version of the markdown after conversion. See 'markup.js' for urther information.
					 On big screen, it takes the right half of the screen. On smaller screen, it takes all the screen. It can always be hidden via the view switch. -->
				<article class="sheet" id="conversion-container">

					<div id="html-conversion"></div>
				</article>
			</section>
		</section>

		<!-- FIXED BOTTOM BAR
			 Contains useful information for the user:
			 - Its number of words;
			 - Whether it is saved or not.
			 - The paste zone used when the user pastes content.
			 These data are set via JavaScript. See 'footer.js' for urther information. -->
		<footer id="mado-footer">

			<p>
				<span id="link-url"></span>
				<span id="character-nb"></span><span id="word-nb"></span>
			</p>

			<!-- HTML overview control navbar
				 Contains the CSS picker square button. -->
			<div class="tool-container" id="style-tool-container">
			
				<div class="cta tool icon-style" id="style-tool"></div>
				
				<div class="tool-displayer hidden" id="style-tool-displayer">
					
					<div class="tool-box">

						<div class="style-choice-container">
							<input type="radio" name="style-choice" class="cta" id="home-style"><label class="cta" for="home-style">Home</label>
						</div>
						<div class="style-choice-container">
							<input type="radio" name="style-choice" class="cta" id="clinic-style"><label class="cta" for="clinic-style">Clinic</label>
						</div>
						<div class="style-choice-container">
							<input type="radio" name="style-choice" class="cta" id="tramway-style"><label class="cta" for="tramway-style">Tramway</label>
						</div>
					</div>

					<div class="tool-arrow"></div>
				</div>
			</div>

			<!-- Contenteditable when pasting something
					Controlled via JavaScript. -->
			<textarea id="paste-zone"></textarea>
		</footer>
	</body>
</html>